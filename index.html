<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>Canvas Drawing Tool</title>
    <link rel="stylesheet" href="src/style.css" />
    <script type="module" src="/src/main.js"></script>
  </head>

  <body class="bg-gray-100 min-h-screen">
    <!-- 헤더 -->
    <header class="flex items-center gap-3 px-4 h-14 bg-white shadow">
      <button id="ocToggle"
              class="inline-flex items-center justify-center w-10 h-10 rounded hover:bg-gray-100"
              aria-label="toggle offcanvas">
        <!-- 햄버거 -->
        <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
          <path d="M4 6h16M4 12h16M4 18h16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
      </button>
      <h1 class="text-lg font-bold">🎨 Web Drawing Tool</h1>
      <div class="ml-auto text-sm text-gray-500">Ctrl+B = 패널 토글</div>
    </header>

    <!-- 메인 2-열 레이아웃 -->
    <main class="relative h-[calc(100vh-56px)] overflow-hidden">
      <!-- 오버레이(모바일용) -->
      <div id="ocBackdrop" class="oc-backdrop"></div>

      <!-- ✅ 좌측 오프캔버스 -->
      <aside id="offcanvas" class="oc-panel">
        <div class="p-4 space-y-4">
          <div class="flex items-center justify-between">
            <h2 class="font-semibold">도구</h2>
            <button id="ocClose" class="w-8 h-8 rounded hover:bg-gray-100" aria-label="close">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                <path d="M6 6l12 12M18 6l-12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              </svg>
            </button>
          </div>

          <div class="space-y-3">
            <label class="block text-sm">색상</label>
            <input type="color" id="colorPicker" value="#000000" class="w-12 h-12 border rounded" />
          </div>

          <div class="space-y-3">
            <label class="block text-sm">브러시 크기</label>
            <input type="range" id="brushSize" min="1" max="50" value="5" class="w-full" />
          </div>

          <div class="space-y-3">
            <label class="block text-sm">도구 선택</label>
            <select id="toolSelect" class="w-full border rounded p-2">
              <option value="pen">펜</option>
              <option value="eraser">지우개</option>
              <option value="line">직선</option>
              <option value="rect">사각형</option>
              <option value="circle">원</option>
            </select>
          </div>

          <label class="flex items-center gap-2">
            <input type="checkbox" id="gridToggle" class="w-5 h-5" />
            모눈 종이
          </label>

          <div class="flex gap-2 pt-2 flex-wrap">
            <button id="clearBtn" class="px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600">Clear</button>
            <button id="savePngBtn" class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600">Save PNG</button>
            <button id="saveJpgBtn" class="px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600">Save JPG</button>
          </div>
        </div>
      </aside>

      <!-- ✅ 우측 드로잉 영역 -->
      <section id="canvasWrap" class="absolute inset-0 oc-canvas-wrap">
        <canvas id="drawingCanvas" class="bg-white shadow-lg rounded block"></canvas>
      </section>
    </main>
  </body>
</html>
